```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           SMART DRIP IRRIGATION - NETWORK ARCHITECTURE             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   INTERNET      â”‚
                        â”‚   (Optional)    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Wi-Fi Router  â”‚
                        â”‚  192.168.1.1    â”‚
                        â”‚  (@Namnagar29)  â”‚
                        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                            â”‚    â”‚   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                    â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAPTOP SERVER      â”‚  â”‚ ESP32 Test   â”‚  â”‚ ESP32 Field Node â”‚
â”‚  (Main Hub)         â”‚  â”‚  "imshiva2"  â”‚  â”‚    (Zone 1-4)    â”‚
â”‚  IP: 192.168.1.100  â”‚  â”‚ IP: DHCP     â”‚  â”‚  IP: 192.168.1.  â”‚
â”‚                     â”‚  â”‚              â”‚  â”‚      201-204     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚                  â”‚
â”‚ â”‚ Services:       â”‚ â”‚  â”‚ â”‚Hardware: â”‚ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                 â”‚ â”‚  â”‚ â”‚          â”‚ â”‚  â”‚ â”‚ Sensors:     â”‚ â”‚
â”‚ â”‚ â€¢ Mosquitto     â”‚ â”‚  â”‚ â”‚â€¢ ESP32   â”‚ â”‚  â”‚ â”‚ â€¢ 4x Soil    â”‚ â”‚
â”‚ â”‚   MQTT Broker   â”‚ â”‚  â”‚ â”‚â€¢ Built-inâ”‚ â”‚  â”‚ â”‚   Moisture   â”‚ â”‚
â”‚ â”‚   Port: 1883 â—„â”€â”€â”¼â”€â”¼â”€â”€â”¼â”€â”¤  LED     â”‚ â”‚  â”‚ â”‚ â€¢ Tank Level â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚  â”‚ â”‚â€¢ WiFi    â”‚ â”‚  â”‚ â”‚ â€¢ Flow Rate  â”‚ â”‚
â”‚ â”‚ â€¢ Python API    â”‚ â”‚  â”‚ â”‚â€¢ BLE     â”‚ â”‚  â”‚ â”‚ â€¢ Temp/Humid â”‚ â”‚
â”‚ â”‚   Port: 5000    â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚              â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚  â”‚              â”‚  â”‚ â”‚ Actuators:   â”‚ â”‚
â”‚ â”‚ â€¢ Database      â”‚ â”‚  â”‚ Functions:   â”‚  â”‚ â”‚ â€¢ 4x Valves  â”‚ â”‚
â”‚ â”‚   (MongoDB)     â”‚ â”‚  â”‚ â€¢ Testing    â”‚  â”‚ â”‚ â€¢ 2x Pumps   â”‚ â”‚
â”‚ â”‚                 â”‚ â”‚  â”‚ â€¢ Dev Node   â”‚  â”‚ â”‚              â”‚ â”‚
â”‚ â”‚ â€¢ Web UI        â”‚ â”‚  â”‚ â€¢ Prototype  â”‚  â”‚ â”‚ Power:       â”‚ â”‚
â”‚ â”‚   Port: 8080    â”‚ â”‚  â”‚              â”‚  â”‚ â”‚ â€¢ Solar 30W  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â€¢ Battery    â”‚ â”‚
â”‚                     â”‚                     â”‚ â”‚   12V LiFePO4â”‚ â”‚
â”‚ Mobile App Backend  â”‚                     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚                                           â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ Firebase â”‚                              â”‚ Local Auto â”‚
    â”‚ AWS IoT  â”‚                              â”‚  Control   â”‚
    â”‚  Cloud   â”‚                              â”‚  (Offline) â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚  Mobile  â”‚
    â”‚   App    â”‚
    â”‚ (React   â”‚
    â”‚  Native) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      DATA FLOW DIAGRAM                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ESP32 Field Node                 Laptop Server              Mobile App
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â•â•â•â•â•â•â•â•â•â•â•â•               â•â•â•â•â•â•â•â•â•â•
      â”‚                               â”‚                          â”‚
      â”‚ 1. WiFi Connect               â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”‚ 2. MQTT Connect (port 1883)   â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚
      â”‚     CONNACK                   â”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”‚ 3. Publish: Status="online"   â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”‚ 4. Subscribe: commands        â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”‚ 5. Heartbeat (every 30s)      â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â”€â”€â”€â”€â”€â”€â”                   â”‚
      â”‚                               â”‚      â”‚ Store in DB       â”‚
      â”‚                               â”‚â—„â”€â”€â”€â”€â”€â”˜                   â”‚
      â”‚                               â”‚                          â”‚
      â”‚ 6. Sensor Data (every 60s)    â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â”€â”€â”€â”€â”€â”€â”                   â”‚
      â”‚  {                            â”‚      â”‚ Process & Store   â”‚
      â”‚   soil_moisture: [45,52,..],  â”‚â—„â”€â”€â”€â”€â”€â”˜                   â”‚
      â”‚   tank_level: 75,             â”‚                          â”‚
      â”‚   temp: 25.5                  â”‚                          â”‚
      â”‚  }                            â”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”‚                               â”‚ 7. User requests data    â”‚
      â”‚                               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                               â”‚                          â”‚
      â”‚                               â”‚ 8. Send device status    â”‚
      â”‚                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
      â”‚                               â”‚                          â”‚
      â”‚                               â”‚ 9. User sends command    â”‚
      â”‚                               â”‚     (e.g., "water zone1")â”‚
      â”‚                               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                               â”‚                          â”‚
      â”‚ 10. Receive command           â”‚                          â”‚
      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚
      â”‚  {action: "irrigate",         â”‚                          â”‚
      â”‚   zone: 1,                    â”‚                          â”‚
      â”‚   duration: 1800}             â”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”œâ”€â”€â”€â”€ Execute irrigation â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
      â”‚     â€¢ Open valve 1            â”‚                          â”‚
      â”‚     â€¢ Start pump              â”‚                          â”‚
      â”‚     â€¢ Monitor flow            â”‚                          â”‚
      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                          â”‚
      â”‚                               â”‚                          â”‚
      â”‚ 11. Publish: Status Update    â”‚                          â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
      â”‚  {status: "irrigating",       â”‚                          â”‚
      â”‚   zone: 1,                    â”‚                          â”‚
      â”‚   flow_rate: 2.5}             â”‚ 12. Forward to app      â”‚
      â”‚                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
      â”‚                               â”‚                          â”‚


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   MQTT TOPIC STRUCTURE                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

irrigation/
    â”œâ”€â”€ imshiva2/
    â”‚   â”œâ”€â”€ status         â†’ Device online/offline status
    â”‚   â”œâ”€â”€ sensors        â†’ Sensor readings
    â”‚   â”œâ”€â”€ commands       â†’ Commands from server
    â”‚   â”œâ”€â”€ telemetry      â†’ Full system telemetry
    â”‚   â””â”€â”€ heartbeat      â†’ Periodic alive signal
    â”‚
    â”œâ”€â”€ smartkisan_zone1/
    â”‚   â”œâ”€â”€ status
    â”‚   â”œâ”€â”€ sensors
    â”‚   â”œâ”€â”€ commands
    â”‚   â”œâ”€â”€ telemetry
    â”‚   â””â”€â”€ heartbeat
    â”‚
    â”œâ”€â”€ smartkisan_zone2/
    â”‚   â””â”€â”€ ... (same structure)
    â”‚
    â””â”€â”€ broadcast/
        â””â”€â”€ commands       â†’ Commands to all devices


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              MESSAGE PAYLOAD EXAMPLES (JSON)                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Status Message:
{
  "device_id": "imshiva2",
  "status": "online",
  "timestamp": 1703318400,
  "wifi_rssi": -45
}

2. Sensor Data:
{
  "device_id": "smartkisan_zone1",
  "sensors": {
    "soil_moisture": [45, 52, 48, 50],
    "tank_level": 75,
    "temperature": 25.5,
    "humidity": 65,
    "flow_rate": 2.5
  },
  "timestamp": 1703318400
}

3. Command (Server â†’ ESP32):
{
  "action": "irrigate",
  "zone": 1,
  "duration": 1800,
  "timestamp": 1703318400
}

4. Command Response (ESP32 â†’ Server):
{
  "device_id": "smartkisan_zone1",
  "command_id": "cmd_12345",
  "status": "executing",
  "message": "Started irrigation on zone 1"
}

5. Heartbeat:
{
  "device_id": "imshiva2",
  "uptime": 86400,
  "free_mem": 102400,
  "timestamp": 1703318400
}


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  OFFLINE OPERATION MODE                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Internet/WiFi Available?                                         â”‚
â”‚         â”‚                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                  â”‚
â”‚    â”‚   YES   â”‚                                                  â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                  â”‚
â”‚         â”‚                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚    â”‚ ONLINE MODE                         â”‚                      â”‚
â”‚    â”‚ â€¢ Connect to MQTT broker            â”‚                      â”‚
â”‚    â”‚ â€¢ Send sensor data to server        â”‚                      â”‚
â”‚    â”‚ â€¢ Receive commands from app         â”‚                      â”‚
â”‚    â”‚ â€¢ Sync schedules                    â”‚                      â”‚
â”‚    â”‚ â€¢ OTA updates available             â”‚                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                  â”‚
â”‚    â”‚   NO    â”‚                                                  â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                  â”‚
â”‚         â”‚                                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚    â”‚ OFFLINE MODE (AUTONOMOUS)           â”‚                      â”‚
â”‚    â”‚ â€¢ Use last synced schedule          â”‚                      â”‚
â”‚    â”‚ â€¢ Sensor-based auto-irrigation:     â”‚                      â”‚
â”‚    â”‚   - If soil < 30% â†’ Water           â”‚                      â”‚
â”‚    â”‚   - If tank < 20% â†’ Refill          â”‚                      â”‚
â”‚    â”‚ â€¢ Store data locally (SD card)      â”‚                      â”‚
â”‚    â”‚ â€¢ Sync when connection restored     â”‚                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    POWER MANAGEMENT                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  30W     â”‚
   â”‚  Solar   â”‚
   â”‚  Panel   â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Charge    â”‚
    â”‚ Controller  â”‚
    â”‚  (MPPT)     â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   12V       â”‚       â”‚    ESP32     â”‚
    â”‚  LiFePO4    â”‚â”€â”€â”€â”€â”€â”€â–ºâ”‚   (3.3V)     â”‚
    â”‚  Battery    â”‚       â”‚   via Buck   â”‚
    â”‚  (10Ah)     â”‚       â”‚  Converter   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Pumps (12V)
           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Valves (12V)

Battery Runtime:
â€¢ Normal: 3+ days without sun
â€¢ Power-save mode: 7+ days


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  LEGEND & COLOR CODES                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Symbols:
  â”€â–º  Data flow direction
  â”Œâ”€â” Component/Device
  â”‚   Connection/Wire
  â—„â”€â”€ Bidirectional communication
  
Network Protocols:
  â€¢ MQTT (primary)
  â€¢ HTTP REST (secondary)
  â€¢ WebSocket (real-time)
  â€¢ ESP-NOW (mesh, future)

Status Indicators:
  ğŸŸ¢ ACTIVE  - Device responding < 60s
  ğŸ”´ STALE   - No response > 60s
  âšª OFFLINE - Intentionally disconnected
